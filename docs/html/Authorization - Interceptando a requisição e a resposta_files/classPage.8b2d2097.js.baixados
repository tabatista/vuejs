function _defineProperty(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var Task=function(){function t(t){var e=t.data("task-id");t.data("author-id");return{taskId:e}}function e(){var t=$(".task-feedback"),e=$("#task-content .task-actions"),a=$(".markdownEditor, .openQuestion-answer-title");$(".task-actions").show(),t.length>0&&(e.addClass("screenReader-only"),$(".screenReader-only .task-actions-button-forum").hide(),a.length>0&&a.hide(),t.addClass("task-feedback--visible"),t.attr("aria-hidden","false"),sticky&&sticky.recalc()),n()}function a(t,e,a){var n=document.open("text/html","replace");n.write(t.responseText),n.close()}function n(){var t=$(".task-body-actions-button.task-actions-button-answer");t.removeClass("task-actions-button-spinning"),t.prop("disabled",!1)}function i(){$(".choiceable-opinion").css("display","block")}var s=$(".task"),o=s.data("task-type"),r=s.data("course-code"),c=s.data("section-number");function l(t){return t.split(new RegExp("[`'‘’]")).join("'")}return{submitAnswer:function(n,u){var d;s.data("hasfeedbackanswer")||((d=$(".task-body-actions-button.task-actions-button-answer")).addClass("task-actions-button-spinning"),d.prop("disabled",!0));var p=t(s),m=$(".repetition");if(m[0]&&(o=m.data("repeatable-type"),r=s.data("course-code"),c=s.data("section-number"),(p=t(m)).fromRepetition=!0),p.alternatives=[],"singlechoice"==o){var k=$(".alternativeList-item-input:checked");p.alternatives.push(k.attr("id")),i()}else if("multiplechoice"==o)p.alternatives=[],$(".alternativeList-item-input:checked").each(function(t){p.alternatives.push($(this).attr("id"))}),i();else if("openquestion"==o)p.answeredText=$(".markdownEditor-textArea").val(),p.answeredTextHighlight=$("input[name='answeredTextHighlight']").val();else if("fillintheblank"==o){var f=$(".phrase-input").val();p.answeredText=l(f.trim())}else"speakingpractice"==o||"pronunciationpractice"==o?p.feedback=u:"projectsubmit"==o&&(p.projectUrl=u);var h=s.data("url-prefix");$.ajax({type:"POST",contentType:"application/json; charset=utf-8",url:h+"course/"+r+"/section/"+c+"/"+o+"/answer",data:JSON.stringify(p),dataType:"json",success:n||e,statusCode:{200:n||e,400:n||e,500:a}}).done(function(){Task.canShowSubmitExam()})},showOpinionIfAvailable:e,toggleChoiceableOpinion:i,enableButton:n,isExam:function(){return s.data("task-section-exam")},allowAnswer:function(){return s.data("allow-answer")},canShowSubmitExam:function(){if(Task.isExam()){var t=$(".task"),e=t.data("url-prefix"),a=$(".task-actions-button-complete"),n=t.data("course-code"),i=t.data("task-id"),s=t.data("section-id"),o=t.data("section-name"),r=e+"course/"+n+"/task/"+i+"/show/submit/exam";$.get(r,function(t){if(JSON.parse(t)&&0==a.length){var i=$("<a>");if(i.attr("href",e+"course/"+n+"/section/"+s+"/exam/complete"),i.addClass("task-actions-button task-body-actions-button task-actions-button-complete"),i.text("Submeter a "+o),$(".task-actions .container a").length>0)return void $(".task-actions .container a").before(i);$(".task-actions .container").append(i)}})}},answerWithCorrectApostrophe:l}}(),Choiceable=function(){function t(){Task.isExam()||($(".alternativeList-item-opinionButton").each(function(){var t=$(this)[0];t.classList.contains("alternativeList-item-opinionButton--visible")||t.classList.add("alternativeList-item-opinionButton--visible")}),$(".task-actions").css("display","block"),$(".task-actions-button-next").css("display","inline-block"),sticky.recalc())}function e(){Task.isExam()&&Task.allowAnswer()||($(".alternativeList-item-input").each(function(){$(this).attr("disabled","true")}),$(".alternativeList-item-span").addClass("alternativeList-item-span-disabled"))}return _defineProperty({setup:function(){$(".alternativeList-item-opinionButton").on("click",function(t){t.preventDefault(),$(this).parents("li").toggleClass("alternativeList-item--active"),Aria.expandingButton($(this))}),Task.isExam()&&!Task.allowAnswer()&&e()},updateSubmitAnswerIf:function(t){Task.isExam()||t&&$("#task-content").attr("data-should-submit-answer",!1)},isChecked:function(t){return t.hasClass("alternativeList-item--checked")},isOpinionIcon:function(t){return t.target.classList.contains("alternativeList-item-opinionIcon-use")||t.target.classList.contains("alternativeList-item-opinionIcon")},showAlternativeOpinionsAndNextButton:t,toggleLabelClass:function(t){t.toggleClass("alternativeList-item--checked")},showAlternativeOpinions:function(){Task.isExam()||($(".alternativeList-item--checked").each(function(){var t=$(this);if(t.find(".alternativeList-item-opinionIcon").length>0){t.addClass("alternativeList-item--active");var e=t.find(".alternativeList-item-opinionButton");Aria.expandingButton(e)}t.data("correct")?$(".singleChoice-alternative-aria-feedback").text("Alternativa correta"):$(".singleChoice-alternative-aria-feedback").text("Alternativa incorreta")}),sticky.recalc())},disableAllAlternatives:e},"showAlternativeOpinionsAndNextButton",t)}();!function(){var t,e,a=$(".task"),n=a.data("domain"),i=$(".openMenu-button"),s=!1,o=!1;function r(){var t="gnarus.menuClosed="+a.hasClass("menu--inactive")+"; path=/; domain="+n;document.cookie=t}$(".task-menu-button, .task-body-button").on("click",function(t){t.stopPropagation(),a.toggleClass("menu--inactive"),i.toggleClass("openMenu-button--inactive");i.hasClass("openMenu-button--inactive")?i.each(function(){$(this).attr("aria-label","Abrir menu"),$(this).attr("title","Abrir menu")}):i.each(function(){$(this).attr("aria-label","Fechar menu"),$(this).attr("title","Fechar menu")}),r(),sticky.recalc()}),$(".task-submit").on("click",function(a){$(".task-body-main").data("should-warn")&&(s||void 0!=e&&e.getValue()!=t)&&!o&&(0==window.confirm("Suas alterações ainda não foram salvas, clique em Responder para salvá-las. Deseja ir para a próxima aula?")&&a.preventDefault())}),$(".markdownEditor-textArea, .phrase-input").on("change",function(){s=!0}),$(".task-actions-button-answer").on("click",function(){o=!0}),$(document).click(function(t){$(window).width()<768&&($(t.target).closest(".task-menu-button").length||$(t.target).closest(".task-menu").length||$(t.target).closest(".settings-box").length||(a.addClass("menu--inactive"),i.addClass("task-menu-button--inactive"),r()))}),$(window).load(function(){Task.isExam()?$("#task-content").attr("data-should-submit-answer",!0):$(".alternativeList-item--checked").size()>0&&(Task.toggleChoiceableOpinion(),Choiceable.showAlternativeOpinions(),Choiceable.showAlternativeOpinionsAndNextButton())}),$(".task-actions-button-answer").on("click",function(){$(this).attr("aria-expanded","true")}),$("[data-submittable=true]").on("click",function(){Task.submitAnswer()}),$(".task-actions-button-showOpinion").on("click",function(){Task.showOpinionIfAvailable()}),new ProjectSubmit(Task).initialize()}();var sticky=function(){var t=document.querySelector(".task-menu"),e=document.querySelector(".task-body");if(("scrollY"in window||"pageYOffset"in window)&&"requestAnimationFrame"in window){var a,n,i;window.addEventListener("resize",r),setTimeout(r,0),setTimeout(r,200);var s=window.scrollY||window.pageYOffset,o=0;return requestAnimationFrame(function e(){t&&(a>i||window.innerWidth<=691?t.style.position="absolute":(t.style.position="fixed",function(){var e=window.scrollY||window.pageYOffset;if(!(s==e||e<0||e>document.documentElement.offsetHeight-n)){var i=Math.max(Math.min(o+e-s,a-n),0);isNaN(i)||(i!=o&&(t.style.transform="translateY("+-i+"px)",o=i),s=e)}}()),requestAnimationFrame(e))}),{recalc:r}}function r(){t&&(a=t.getBoundingClientRect().height,n=window.innerHeight,i=e.getBoundingClientRect().height)}t.style.position="absolute"}();